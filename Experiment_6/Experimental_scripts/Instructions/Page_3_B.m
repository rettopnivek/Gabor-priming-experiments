%--------------------------%
% Description of task goal %
% Page 3                   %
%--------------------------%

%%% Display instructions %%%

% Color the screen grey
Background

%%% Draw the stimuli %%%

% Draw the gabor patches
Screen('DrawTextures', window, gaborTexLeft2, [], posLeft, ...
    [], [], [], []);
Screen('DrawTextures', window, gaborTexRight2, [], posRight, ...
    [], [], [], []);
Screen('DrawTextures', window, gaborTexEasy, [], posCenter, ...
    [], [], [], []);

% Include labels
string = '75%';
% Dimensions for 1 line of text
[dim] = Screen( window, 'TextBounds', string );
% Bounding box for text
txtBox = [ ...
    center(1) - imSize - hShift - 1.2*(dim(3)-imSize)/2, ...
    center(2) - imSize/2 - 10, ...
    center(1) - hShift + 1.2*(dim(3)-imSize)/2, ...
    center(2) - imSize/2 - 10 - dim(4) ];
[nx,ny,bbox] = DrawFormattedText( window, string, ...
    'center','center', [], [], [], [], [], [], txtBox );

string = '25%';
% Dimensions for 1 line of text
[dim] = Screen( window, 'TextBounds', string );
% Bounding box for text
txtBox = [ ...
    center(1) + hShift - 1.2*(dim(3)-imSize)/2, ...
    center(2) - imSize/2 - 10, ...
    center(1) + imSize + hShift + 1.2*(dim(3)-imSize)/2, ...
    center(2) - imSize/2 - 10 - dim(4) ];
[nx,ny,bbox] = DrawFormattedText( window, string, ...
    'center','center', [], [], [], [], [], [], txtBox );

string = '>>>';
% Dimensions for 1 line of text
[dim] = Screen( window, 'TextBounds', string );
% Bounding box for text
txtBox = [ ...
    center(1) - hShift + 1.2*dim(3)/2, ...
    center(2) + dim(4)/2, ...
    center(1) - imSize/2 - 1.2*dim(3)/2, ...
    center(2) - dim(4) ];
[nx,ny,bbox] = DrawFormattedText( window, string, ...
    'center','center', [], [], [], [], [], [], txtBox );

string = '<<<';
% Dimensions for 1 line of text
[dim] = Screen( window, 'TextBounds', string );
% Bounding box for text
txtBox = [ ...
    center(1) + imSize/2 + 1.2*dim(3)/2, ...
    center(2) + dim(4)/2, ...
    center(1) + hShift - 1.2*dim(3)/2, ...
    center(2) - dim(4) ];
[nx,ny,bbox] = DrawFormattedText( window, string, ...
    'center','center', [], [], [], [], [], [], txtBox );

% Present instructions
string = [ ...
    'The stripes will not be mixed together equally.\n' ...
    'Your goal will be to indicate which set of \n' ...
    'stripes is darker.' ];
[nx,ny,bbox] = DrawFormattedText( window, string, ...
    'center', center(2)-imSize/2-150, [], [], [], [], lnSpace, [], [] );

% Flip to the screen (i.e. display stimuli)
Screen('Flip', window);

% Press any key to continue to the next screen
WaitSecs( InstructionTime );
Post_instruction
